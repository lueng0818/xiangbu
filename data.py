# ==============================================================================
# data.py - 完整數據定義
# ==============================================================================

# 棋子價值對應表 (@收獲付出解法)
VALUE_MAP = {
    '兵': 2, '卒': 2, '炮': 4, '包': 4, '馬': 8, '傌': 8, 
    '車': 12, '俥': 12, '相': 16, '象': 16, '仕': 24, '士': 24, 
    '帥': 30, '將': 30,
}

# 棋子名稱對應 (紅方 / 黑方)
PIECE_NAMES = {
    '紅': ['帥', '仕', '相', '傌', '炮', '俥', '兵'],
    '黑': ['將', '士', '象', '馬', '包', '車', '卒'],
}

# 棋子屬性與五行對應
ATTRIBUTES = {
    "車": {"五行": "木(仁)", "特質": "衝直愛管人", "身體": "肝膽筋目", "適合": "自己經營更佳"},
    "俥": {"五行": "木(仁)", "特質": "不受約束, 眼光高", "身體": "肝膽筋目", "適合": "自己經營更佳"},
    "象": {"五行": "火(禮)", "特質": "足智多謀, 修行", "身體": "心小腸血脈舌血循", "適合": "不動產, 靜止財"},
    "相": {"五行": "火(禮)", "特質": "宰相, 有官印帶權", "身體": "心小腸血脈舌血循", "適合": "不動產, 靜止財"},
    "兵": {"五行": "土(信)", "特質": "腳踏實地, 只進不退", "身體": "脾腸胃肌肉口", "適合": "現金財庫, 不投機"},
    "卒": {"五行": "土(信)", "特質": "團結力量大", "身體": "脾腸胃肌肉口", "適合": "現金財庫, 不投機"},
    "將": {"五行": "金(義)", "特質": "君王, 獨攬", "身體": "肺大腸皮膚鼻, 頭部", "適合": "適合事業, 不適合婚姻"},
    "帥": {"五行": "金(義)", "特質": "領袖, 掌權者", "身體": "肺大腸皮膚鼻, 頭部", "適合": "適合事業, 不適合婚姻"},
    "士": {"五行": "金(義)", "特質": "一人之下, 文昌", "身體": "肺大腸皮膚鼻", "適合": "大吉大利, 投資運佳"},
    "仕": {"五行": "金(義)", "特質": "帶權名聲, 有威嚴", "身體": "肺大腸皮膚鼻", "適合": "大吉大利, 投資運佳"},
    "包": {"五行": "水(智)", "特質": "人緣佳, 小桃花", "身體": "腎膀胱骨耳婦科", "適合": "智慧型, 流動事業"},
    "炮": {"五行": "水(智)", "特質": "想飛想改變, 好高騖遠", "身體": "腎膀胱骨耳婦科", "適合": "智慧型, 流動事業"},
    "馬": {"五行": "木(仁)", "特質": "遊走人際間, 好管閒事", "身體": "關節經絡", "適合": "奔波見財, 不動停滯"},
    "傌": {"五行": "木(仁)", "特質": "內外兼顧, 賢妻", "身體": "關節經絡", "適合": "奔波見財, 不動停滯"},
}

# 占卜架構與位置邏輯
POSITION_MAP = {
    1: {"名稱": "中", "關係": "自己，能量中心"},
    4: {"名稱": "上", "關係": "父母、長輩"},
    5: {"名稱": "下", "關係": "兒女、晚輩"},
    2: {"名稱": "左", "關係": "男:妻/女友；女:兄弟姊妹"},
    3: {"名稱": "右", "關係": "男:兄弟姊妹；女:夫/男友"},
}

# 5 點卦象的空間幾何關係 (這是 rules.py 運作的關鍵，必須存在！)
GEOMETRY_RELATION = {
    1: {2: "十字", 3: "十字", 4: "十字", 5: "十字"},
    2: {1: "十字", 3: "平行", 4: "斜位", 5: "斜位"},
    3: {1: "十字", 2: "平行", 4: "斜位", 5: "斜位"},
    4: {1: "十字", 2: "斜位", 3: "斜位", 5: "縱隔山"},
    5: {1: "十字", 2: "斜位", 3: "斜位", 4: "縱隔山"},
}

# 棋子圖片路徑對應
IMAGE_PATHS = {
    ("帥", "紅"): "static/紅帥.png", ("將", "黑"): "static/黑將.png",
    ("仕", "紅"): "static/紅仕.png", ("士", "黑"): "static/黑士.png",
    ("相", "紅"): "static/紅相.png", ("象", "黑"): "static/黑象.png",
    ("傌", "紅"): "static/紅傌.png", ("馬", "黑"): "static/黑馬.png",
    ("炮", "紅"): "static/紅炮.png", ("包", "黑"): "static/黑包.png",
    ("俥", "紅"): "static/紅俥.png", ("車", "黑"): "static/黑車.png",
    ("兵", "紅"): "static/紅兵.png", ("卒", "黑"): "static/黑卒.png",
}

def get_image_path(name, color):
    """根據棋子名稱和顏色取得圖片路徑"""
    key_name = name
    if color == "紅" and name == '卒': key_name = '兵' 
    if color == "黑" and name == '兵': key_name = '卒' 
    
    return IMAGE_PATHS.get((key_name, color))
