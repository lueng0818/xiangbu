# ==============================================================================
# data.py - 核心數據與定義
# ==============================================================================

# 棋子價值對應表
VALUE_MAP = {
    '兵': 2, '卒': 2, '炮': 4, '包': 4, '馬': 8, '傌': 8, 
    '車': 12, '俥': 12, '相': 16, '象': 16, '仕': 24, '士': 24, 
    '帥': 30, '將': 30,
}

# 棋子名稱對應
PIECE_NAMES = {
    '紅': ['帥', '仕', '相', '傌', '炮', '俥', '兵'],
    '黑': ['將', '士', '象', '馬', '包', '車', '卒'],
}

# 棋子屬性與五行對應
ATTRIBUTES = {
    "車": {"五行": "木", "特質": "衝直愛管人", "身體": "肝膽筋目", "適合": "自己經營更佳"},
    "俥": {"五行": "木", "特質": "不受約束, 眼光高", "身體": "肝膽筋目", "適合": "自己經營更佳"},
    "馬": {"五行": "木", "特質": "遊走人際間, 好管閒事", "身體": "關節經絡", "適合": "奔波見財, 不動停滯"},
    "傌": {"五行": "木", "特質": "內外兼顧, 賢妻", "身體": "關節經絡", "適合": "奔波見財, 不動停滯"},
    "象": {"五行": "火", "特質": "足智多謀, 修行", "身體": "心小腸血脈舌血循", "適合": "不動產, 靜止財"},
    "相": {"五行": "火", "特質": "宰相, 有官印帶權", "身體": "心小腸血脈舌血循", "適合": "不動產, 靜止財"},
    "兵": {"五行": "土", "特質": "腳踏實地, 只進不退", "身體": "脾腸胃肌肉口", "適合": "現金財庫, 不投機"},
    "卒": {"五行": "土", "特質": "團結力量大", "身體": "脾腸胃肌肉口", "適合": "現金財庫, 不投機"},
    "將": {"五行": "金", "特質": "君王, 獨攬", "身體": "肺大腸皮膚鼻, 頭部", "適合": "適合事業, 不適合婚姻"},
    "帥": {"五行": "金", "特質": "領袖, 掌權者", "身體": "肺大腸皮膚鼻, 頭部", "適合": "適合事業, 不適合婚姻"},
    "士": {"五行": "金", "特質": "一人之下, 文昌", "身體": "肺大腸皮膚鼻", "適合": "大吉大利, 投資運佳"},
    "仕": {"五行": "金", "特質": "帶權名聲, 有威嚴", "身體": "肺大腸皮膚鼻", "適合": "大吉大利, 投資運佳"},
    "包": {"五行": "水", "特質": "人緣佳, 小桃花", "身體": "腎膀胱骨耳婦科", "適合": "智慧型, 流動事業"},
    "炮": {"五行": "水", "特質": "想飛想改變, 好高騖遠", "身體": "腎膀胱骨耳婦科", "適合": "智慧型, 流動事業"},
}

# 棋子符號學 (Archetypes)
PIECE_SYMBOLISM = {
    "將帥": {"role": "👑 唯我獨尊的領導者", "self": "主見強，掌控欲，能量強但孤獨。", "love": "對方強勢主導，不宜硬碰硬。", "career": "老闆命，適合創業。"},
    "士仕": {"role": "📜 足智多謀的幕僚", "self": "智慧高，紅仕心軟，黑士防備。", "love": "關係不錯，注意口角。", "career": "主管格，靠口才腦袋 (文昌)。"},
    "象相": {"role": "🛡️ 穩重的守護者", "self": "心態穩重，喜靜不喜動，有佛緣。", "love": "配對佳，情緒起伏大。", "career": "不動產，穩定財。"},
    "車俥": {"role": "🏎️ 衝鋒陷陣的戰將", "self": "衝勁足，拼命三郎，說話直。", "love": "對方強勢不受控，易鬥嘴。", "career": "大好大壞，適合業務或老闆。"},
    "馬傌": {"role": "🐎 奔波的公關/忙碌者", "self": "忙碌，人際公關強。勞碌命。", "love": "適合有點距離，太黏易磨擦。", "career": "動才有財。"},
    "包炮": {"role": "💣 善變的謀略家", "self": "想改變，心大，點子多。", "love": "桃花星，適合隔山打牛 (距離美)。", "career": "靠腦袋，時效性/流動性生意。"},
    "兵卒": {"role": "🧱 踏實的執行者", "self": "認真踏實，講信用，穩重。", "love": "最穩定，認定不變心。", "career": "現金財，需強迫儲蓄。"}
}

# 前世角色對應 (Karma Archetypes)
PAST_LIFE_ARCHETYPES = {
    "將": "將領/軍官 (發號施令)", "帥": "將領/軍官 (發號施令)",
    "士": "官員/幕僚 (執行政策)", "仕": "官員/幕僚 (執行政策)",
    "象": "修行人/僧侶 (方外之人)", "相": "修行人/僧侶 (方外之人)",
    "車": "管事者/行動隊長", "俥": "管事者/行動隊長",
    "馬": "信使/奔波者", "傌": "信使/奔波者",
    "包": "名流/策士", "炮": "名流/策士",
    "兵": "生意人/平民 (勞動者)", "卒": "生意人/平民 (勞動者)"
}

SYMBOL_KEY_MAP = {
    '將': '將帥', '帥': '將帥', '士': '士仕', '仕': '士仕',
    '象': '象相', '相': '象相', '車': '車俥', '俥': '車俥',
    '馬': '馬傌', '傌': '馬傌', '包': '包炮', '炮': '包炮',
    '兵': '兵卒', '卒': '兵卒'
}

FIVE_ELEMENTS_DETAILS = {
    "木": {"emotion": "怒", "organs": "肝、膽", "psycho_msg": "壓抑怒氣，報復心。", "physio_msg": "睡眠差，肩頸僵硬。", "advice": "少生氣，多伸展。"},
    "火": {"emotion": "喜", "organs": "心、血脈", "psycho_msg": "情緒起伏大，急躁。", "physio_msg": "血壓、心悸。", "advice": "練習慢呼吸。"},
    "土": {"emotion": "思", "organs": "脾、胃", "psycho_msg": "緊張在意細節，反覆思考。", "physio_msg": "胃口差，消化不良。", "advice": "放寬心，吃飯皇帝大。"},
    "金": {"emotion": "憂", "organs": "肺、大腸", "psycho_msg": "自以為是，悲觀。", "physio_msg": "呼吸道過敏，便秘。", "advice": "多深呼吸。"},
    "水": {"emotion": "恐", "organs": "腎、膀胱", "psycho_msg": "用腦過度，驚疑。", "physio_msg": "內分泌，婦科，腰痠。", "advice": "早睡補腎氣。"}
}

POSITION_MAP = {
    1: {"名稱": "中 (身/人格)", "關係": "核心/當下", "部位": "軀幹", "意義": "元氣、核心病灶、當事人意志力。"},
    4: {"名稱": "上 (頭/天格)", "關係": "根源/保護", "部位": "頭部", "意義": "精神意識、長輩緣、決策層。"},
    5: {"名稱": "下 (肢/地格)", "關係": "結果/基礎", "部位": "下肢", "意義": "行動力、財庫、結局。"},
    2: {"名稱": "左 (右側)", "關係": "平輩/助力", "部位": "👉 右半身", "意義": "鏡像原理：身體右側。人際：競爭/合作。"},
    3: {"名稱": "右 (左側)", "關係": "平輩/助力", "部位": "👈 左半身", "意義": "鏡像原理：身體左側。人際：競爭/合作。"}
}

ENERGY_REMEDIES = {
    "Red": {"status": "🔥 血氣旺 (燥熱/發炎)", "symptoms": "血壓高、發炎、急躁。", "method": "赤腳踩草地 (Earthing)", "principle": "紅色屬火。利用大地陰性磁場導出火氣。", "advice": "像引擎過熱，建議去踩草地，把『火』洩掉。"},
    "Black": {"status": "💧 氣血旺 (氣滯/寒濕)", "symptoms": "手腳冰冷、痠痛、憂鬱。", "method": "曬太陽補陽 (Sun Bathing)", "principle": "黑色屬水。太陽是宇宙最強陽氣，驅除寒濕。", "advice": "身體比較『寒』，多曬背(陽氣之海)把陰霾曬乾。"}
}

GEOMETRY_RELATION = {
    1: {2: "十字", 3: "十字", 4: "十字", 5: "十字"},
    2: {1: "十字", 3: "平行", 4: "斜位", 5: "斜位"},
    3: {1: "十字", 2: "平行", 4: "斜位", 5: "斜位"},
    4: {1: "十字", 2: "斜位", 3: "斜位", 5: "縱隔山"},
    5: {1: "十字", 2: "斜位", 3: "斜位", 4: "縱隔山"},
}

IMAGE_PATHS = {
    ("帥", "紅"): "static/紅帥.png", ("將", "黑"): "static/黑將.png",
    ("仕", "紅"): "static/紅仕.png", ("士", "黑"): "static/黑士.png",
    ("相", "紅"): "static/紅相.png", ("象", "黑"): "static/黑象.png",
    ("傌", "紅"): "static/紅傌.png", ("馬", "黑"): "static/黑馬.png",
    ("炮", "紅"): "static/紅炮.png", ("包", "黑"): "static/黑包.png",
    ("俥", "紅"): "static/紅俥.png", ("車", "黑"): "static/黑車.png",
    ("兵", "紅"): "static/紅兵.png", ("卒", "黑"): "static/黑卒.png",
}

def get_image_path(name, color):
    key_name = name
    if color == "紅":
        if name in ['卒','兵']: key_name = '兵'
        if name in ['車','俥']: key_name = '俥'
        if name in ['馬','傌']: key_name = '傌'
        if name in ['包','炮']: key_name = '炮'
        if name in ['象','相']: key_name = '相'
        if name in ['士','仕']: key_name = '仕'
    if color == "黑":
        if name in ['兵','卒']: key_name = '卒'
        if name in ['俥','車']: key_name = '車'
        if name in ['傌','馬']: key_name = '馬'
        if name in ['炮','包']: key_name = '包'
        if name in ['相','象']: key_name = '象'
        if name in ['仕','士']: key_name = '士'
    return IMAGE_PATHS.get((key_name, color))
